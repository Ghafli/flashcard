#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Running pre-commit checks..."

# Run lint
npm run lint || {
    echo "❌ Linting failed. Please fix the issues and try committing again."
    exit 1
}

# Run type check
npm run type-check || {
    echo "❌ Type checking failed. Please fix the type errors and try committing again."
    exit 1
}

# Run tests
npm run test || {
    echo "❌ Tests failed. Please fix the failing tests and try committing again."
    exit 1
}

# Run build to ensure it compiles
npm run build || {
    echo "❌ Build failed. Please fix the build errors and try committing again."
    exit 1
}

echo "✅ All checks passed!"
